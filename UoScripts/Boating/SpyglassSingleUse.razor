@setvar annouceplayerboats 0
sysmsg '> Running spyglass' 44
while targetexists 
endwhile
# Closegump for more smooth spyglass
if gumpexists 2890020940
    gumpclose 2890020940
    pause 25
endif
//Valorite
if findtype 'spyglass' backpack 1763 as glass
    dclick glass
    wft 500
    target 'self'
    waitforgump 2890020940
//Agapite
elseif findtype 'spyglass' backpack 2425 as glass
    dclick glass
    wft 500
    target 'self'
    waitforgump 2890020940
elseif findtype 'spyglass' backpack as glass
    dclick glass
    wft 500
    target 'self'
    waitforgump 2890020940
else
    for 2
        sysmsg 'No more spyglass in backpack' 33
    endfor
endif
if ingump 'Search for ships' 2890020940
    gumpresponse 4 2890020940
    cooldown spyglass 7000
endif 
pause 150
if cooldown pvp
    sysmsg 'entering script'
    overhead 'ENTERING SCRIPT'
    script 'glassandcure'
endif
# Announcing playerboats if found in gump - set annouceplayerboats to 1
if annouceplayerboats = 1
    if ingump "a small ship" 2890020940 or ingump "a small dragon ship" 2890020940 or   ingump "a medium ship" 2890020940 or    ingump "a medium dragon ship" 2890020940 or  ingump "a large ship" 2890020940 or     ingump "a large dragon ship" 2890020940 or   ingump "a carrack" 2890020940 or   ingump "a galleon" 2890020940
        for 2
            sysmsg '♦♦ PLAYER BOAT ♦♦' 2263
            overhead '♦ PLAYER BOAT ♦' 2263
        endfor
    endif
endif

while ingump "Next" 2890020940
    gumpresponse 3 2890020940
    # Announcing playerboats if found in gump  - set annouceplayerboats to 1
 if annouceplayerboats = 1
    if ingump "a small ship" 2890020940 or  ingump "a small dragon ship" 2890020940 or   ingump "a medium ship" 2890020940 or    ingump "a medium dragon ship" 2890020940 or  ingump "a large ship" 2890020940 or     ingump "a large dragon" 2890020940 or   ingump "a carrack" 2890020940 or   ingump "a galleon" 2890020940
        for 2
            sysmsg '♦♦ PLAYER BOAT ♦♦' 2263
            overhead '♦ PLAYER BOAT ♦' 2263
        endfor
    endif
endif
    pause 1000
endwhile
